# MedTestHelper Bot

## Запуск
1. Заполните файл `.env.example` и удалите расширение `.example`, чтобы файл назывался `.env`.
2. Находясь в корневой директории, запустите команду:
   ```bash
   docker-compose up --build
   ```
3. Добавьте бота [@medtesthelper_bot](https://t.me/medtesthelper_bot) в Телеграме.
4. Отправьте команду `/start`.

## Бот умеет:
- Добавлять документы в формате PDF, PNG, JPEG в базу данных.
- Понимать запросы данных пользователя на естественном языке по образцу:
  - "Пришли результаты ЭКГ за 2023 год".

## To-Do:
- Поддержка запросов типа "Покажи самый последний анализ крови".
- Поддержка более глубокой работы с запросами. В данный момент можно запрашивать только тип анализа/исследования и диапазон дат.
- Улучшение парсинга данных при помощи regex.
- Улучшение распознавания текста.
- Поддержка контекста чата с LLM. В данный момент Groq видит только одно сообщение пользователя за раз.
- Обработка сообщений с несколькими документами.
- Написание тестов.
- Поддержка вебхуков.
- Рефакторинг и очистка кодовой базы.

## Known Issues:
- Иногда бот отказывается воспринимать запросы данных на естественном языке как команды. Решение: прислать запрос еще раз (без изменений). Лучше всего бот работает с примерами из промпта в конфиге, что вполне ожидаемо.
